"use strict";(self.webpackChunkeventtracing_github_io=self.webpackChunkeventtracing_github_io||[]).push([[1309],{3905:(t,e,n)=>{n.d(e,{Zo:()=>s,kt:()=>_});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),d=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},s=function(t){var e=d(t.components);return a.createElement(o.Provider,{value:e},t.children)},m="mdxType",k={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,o=t.parentName,s=p(t,["components","mdxType","originalType","parentName"]),m=d(n),c=r,_=m["".concat(o,".").concat(c)]||m[c]||k[c]||l;return n?a.createElement(_,i(i({ref:e},s),{},{components:n})):a.createElement(_,i({ref:e},s))}));function _(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=c;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p[m]="string"==typeof t?t:r,i[1]=p;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5761:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>d});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:40},i="\u65e5\u5fd7\u683c\u5f0f\u89e3\u8bfb",p={unversionedId:"H5/log-format",id:"H5/log-format",title:"\u65e5\u5fd7\u683c\u5f0f\u89e3\u8bfb",description:"\u53c2\u6570",source:"@site/docs/H5/log-format.md",sourceDirName:"H5",slug:"/H5/log-format",permalink:"/docs/H5/log-format",draft:!1,editUrl:"https://github.com/eventtracing/eventtracing.github.io/blob/master/docs/H5/log-format.md",tags:[],version:"current",sidebarPosition:40,frontMatter:{sidebar_position:40},sidebar:"tutorialSidebar",previous:{title:"\u9ad8\u7ea7\u7528\u6cd5",permalink:"/docs/H5/advance-feature"},next:{title:"\u670d\u52a1\u7aef",permalink:"/docs/category/\u670d\u52a1\u7aef"}},o={},d=[{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u4fdd\u7559\u53c2\u6570\u6e05\u5355",id:"\u4fdd\u7559\u53c2\u6570\u6e05\u5355",level:3},{value:"_elist &amp; _plist",id:"_elist--_plist",level:3},{value:"_spm &amp; _scm",id:"_spm--_scm",level:3},{value:"\u4e8b\u4ef6",id:"\u4e8b\u4ef6",level:2},{value:"\u94fe\u8def\u8ffd\u8e2a",id:"\u94fe\u8def\u8ffd\u8e2a",level:2}],s={toc:d};function m(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u65e5\u5fd7\u683c\u5f0f\u89e3\u8bfb"},"\u65e5\u5fd7\u683c\u5f0f\u89e3\u8bfb"),(0,r.kt)("h2",{id:"\u53c2\u6570"},"\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n    event: '_ed',\n    useForRefer: false,\n    _plist: [\n        {\n            _oid: 'page_web_test',\n        },\n    ],\n    _elist: [\n        {\n            _oid: 'btn_web_test',\n            s_position: 1,\n            s_cid: 100001,\n            s_ctype: 'song',\n        },\n    ],\n    params: {\n        _duration: 10000,\n        _eventtime: 1673186172291,\n    },\n}\n")),(0,r.kt)("h3",{id:"\u4fdd\u7559\u53c2\u6570\u6e05\u5355"},"\u4fdd\u7559\u53c2\u6570\u6e05\u5355"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"event"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6253\u70b9\u4e8b\u4ef6\u540d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"useForRefer"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u662f\u5426\u53c2\u4e0e\u94fe\u8def\u8ffd\u8e2a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"_plist"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any[]")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u9875\u9762\u53c2\u6570\u5217\u8868")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"_elist"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any[]")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5143\u7d20\u53c2\u6570\u5217\u8868")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"_spm"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4f4d\u7f6e\u53c2\u6570\uff0c\u5ba2\u6237\u7aef\u4e0a\u62a5\u4e4b\u524d\u6839\u636e _plist\u3001_elist \u4e2d\u53c2\u6570\u751f\u6210\uff0c\u4e0d\u5728\u524d\u7aef\u65e5\u5fd7\u4e2d\u51fa\u73b0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"_scm"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8d44\u6e90\u53c2\u6570\uff0c\u5ba2\u6237\u7aef\u4e0a\u62a5\u4e4b\u524d\u6839\u636e _plist\u3001_elist \u4e2d\u53c2\u6570\u751f\u6210\uff0c\u4e0d\u5728\u524d\u7aef\u65e5\u5fd7\u4e2d\u51fa\u73b0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"params"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5176\u4ed6\u57cb\u70b9\u53c2\u6570")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"params._duration"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u66dd\u5149\u65f6\u957f\uff0c\u53ea\u5728\u66dd\u5149\u7ed3\u675f\u4e8b\u4ef6\u4e2d\u51fa\u73b0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"params._eventtime"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u57cb\u70b9\u65f6\u95f4\u6233")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"params.is_beat"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"1")," / ",(0,r.kt)("inlineCode",{parentName:"td"},"0")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u9875\u9762\u66dd\u5149\u7ed3\u675f\u662f\u5426\u4e3a\u5fc3\u8df3\u7248\uff0c1 \u4e3a\u5fc3\u8df3\u7248\u30010 \u4e3a\u666e\u901a\u7248")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"_plist\u3001_elist \u4fdd\u7559\u53c2\u6570")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"_oid"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5bf9\u8c61ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"s_position"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5bf9\u8c61\u5728\u5217\u8868\u4e2d\u4f4d\u7f6e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"s_cid"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8d44\u6e90 ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"s_ctype"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8d44\u6e90\u7c7b\u578b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"s_ctrp"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8d44\u6e90 trp")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"s_ctraceid"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8d44\u6e90 traceId")))),(0,r.kt)("h3",{id:"_elist--_plist"},"_elist & _plist"),(0,r.kt)("p",null,"_plist \u4e3a\u9875\u9762\u53c2\u6570\u5217\u8868\uff0c_elist \u5143\u7d20\u53c2\u6570\u5217\u8868\uff0c\u66d9\u5149\u57cb\u70b9\u6bcf\u4e00\u4e2a\u57cb\u70b9\u7684\u65e5\u5fd7\uff0c\u90fd\u4f1a\u5411\u4e0a\u904d\u5386\u7236\u8282\u70b9\uff0c\u643a\u5e26\u7236\u8282\u70b9\u57cb\u70b9\u53c2\u6570\uff0c\u56e0\u6b64\u65e5\u5fd7\u4e2d\u901a\u8fc7 _plist\u3001_elist \u6765\u533a\u5206\u9875\u9762\u8282\u70b9\u548c\u5143\u7d20\u8282\u70b9\u3002"),(0,r.kt)("p",null,"_plist\u3001_elist \u4e2d\u7684\u987a\u5e8f\u4e3a \u5b50\u8282\u70b9 \u2192 \u7236\u8282\u70b9\uff0c\u6bd4\u5982\uff0c\u57cb\u70b9\u4efb\u52a1\u4e2d\u8981\u6c42\u7684\u57cb\u70b9\u6811\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- \u6839\u9875\u9762\n    - \u5b50\u9875\u9762\n        - \u6a21\u5757\n            - \u5361\u7247\n                - \u6309\u94ae\n")),(0,r.kt)("p",null,"\u5f53\u6309\u94ae\u89e6\u53d1\u57cb\u70b9\u65f6\uff0c_plist\u3001_elist \u4e2d\u7684\u5185\u5bb9\u548c\u987a\u5e8f\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n    _plist: [\u5b50\u9875\u9762\u8282\u70b9\u53c2\u6570\u5bf9\u8c61, \u6839\u9875\u9762\u8282\u70b9\u53c2\u6570\u5bf9\u8c61],\n    _elist: [\u6309\u94ae\u8282\u70b9\u53c2\u6570\u5bf9\u8c61, \u5361\u7247\u8282\u70b9\u53c2\u6570\u5bf9\u8c61, \u6a21\u5757\u8282\u70b9\u53c2\u6570\u5bf9\u8c61],\n}\n")),(0,r.kt)("h3",{id:"_spm--_scm"},"_spm & _scm"),(0,r.kt)("p",null,"_spm \u662f\u57cb\u70b9\u7684\u4f4d\u7f6e\u53c2\u6570\uff0c\u5ba2\u6237\u7aef\u4e0a\u62a5\u4e4b\u524d\u6839\u636e _plist\u3001_elist \u4e2d\u7684 _oid \u548c s_position \u751f\u6210\uff1b_scm \u662f\u57cb\u70b9\u7684\u8d44\u6e90\u53c2\u6570\uff0c\u5ba2\u6237\u7aef\u4e0a\u62a5\u4e4b\u524d\u6839\u636e _plist\u3001_elist \u4e2d\u7684 s_cid\u3001s_ctype\u3001s_ctraceid\u3001s_ctrp \u751f\u6210\u3002"),(0,r.kt)("p",null,"\u5047\u8bbe\u4e00\u4e2a\u57cb\u70b9\u7684 _plist\u3001_elist \u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n    _plist: [\n        {\n            _oid: 'page_web_test',\n        },\n    ],\n    _elist: [\n        {\n            _oid: 'btn_web_test',\n            s_position: 1,\n            s_cid: 100001,\n            s_ctype: 'song',\n            s_ctraceid: 's_ctraceid_test',\n            s_ctrp: 's_ctrp_test',\n        },\n    ],\n}\n")),(0,r.kt)("p",null,"\u751f\u6210\u7684 _spm\u3001_scm \u4e3a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n    _spm: 'btn_web_test:1|page_web_test',\n    _scm: '100001:song:s_ctraceid_test:s_ctrp_test|:::',\n}\n")),(0,r.kt)("h2",{id:"\u4e8b\u4ef6"},"\u4e8b\u4ef6"),(0,r.kt)("p",null,"event \u53c2\u6570\u8868\u793a\u5f53\u524d\u8fd9\u6b21\u6253\u70b9\u7684\u4e8b\u4ef6\u540d\u79f0\uff0c\u5982\uff1a_pv\u3001_pd\u3001_ev\u3001_ed\u3001_ec \u7b49\u3002"),(0,r.kt)("p",null,"\u81ea\u52a8\u6253\u70b9\u65f6\uff0c\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"data-log")," \u7684 events \u4e2d\u6807\u6ce8\u7684\u4e8b\u4ef6\u4f1a\u5728\u6307\u5b9a\u7684\u65f6\u673a\u89e6\u53d1\u6253\u70b9\uff0c\u5f53\u524d\u652f\u6301\u7684\u81ea\u52a8\u6253\u70b9\u4e8b\u4ef6\u6709\uff1a_pv\u3001_pd\u3001_ev\u3001_ed\u3001_ec\u3002"),(0,r.kt)("p",null,"\u624b\u52a8\u6253\u70b9\u65f6\uff0c\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"options.event")," \u4e2d\u6807\u6ce8\u4e8b\u4ef6\uff0c\u624b\u52a8\u6253\u70b9\u662f\u5f00\u53d1\u8005\u81ea\u5df1\u5728\u5408\u9002\u65f6\u673a\u89e6\u53d1\uff0c\u53ef\u4ee5\u6253\u4efb\u4f55\u4e8b\u4ef6\u3002"),(0,r.kt)("h2",{id:"\u94fe\u8def\u8ffd\u8e2a"},"\u94fe\u8def\u8ffd\u8e2a"),(0,r.kt)("p",null,"useForRefer \u53c2\u6570\u8868\u793a\u5f53\u524d\u8fd9\u6b21\u6253\u70b9\u662f\u5426\u53c2\u4e0e\u5ba2\u6237\u7aef\u94fe\u8def\u8ffd\u8e2a\uff0c\u70b9\u51fb\u4e8b\u4ef6\uff08_ec\uff09\u5df2\u9ed8\u8ba4\u53c2\u52a0\u94fe\u8def\u8ffd\u8e2a\uff0c\u5176\u4ed6\u4e8b\u4ef6\u5982\u679c\u9700\u8981\u53c2\u4e0e\u94fe\u8def\u8ffd\u8e2a\uff0c\u8bf7\u6309 ",(0,r.kt)("inlineCode",{parentName:"p"},"data-log")," \u6216\u624b\u52a8\u6253\u70b9\u65b9\u6cd5\u8981\u6c42\u7684\u65b9\u5f0f\u4f20\u5165\u3002"))}m.isMDXComponent=!0}}]);